(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e38dde7c"],{"4ce4":function(t,e,a){"use strict";a("616f")},"4e54":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return c})),a.d(e,"h",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"g",(function(){return s})),a.d(e,"f",(function(){return u})),a.d(e,"d",(function(){return d}));a("99af");var r=a("b775");function n(t,e,a){return Object(r["a"])({url:"/lejuAdmin/productArticle/findArticles/".concat(t,"/").concat(e),method:"post",data:a})}function i(t){return Object(r["a"])({url:"/lejuAdmin/productArticle/del/"+t,method:"delete"})}function c(t){return Object(r["a"])({url:"/lejuAdmin/productArticle/changeShowStatus",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/lejuAdmin/material/uploadFileOss",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/lejuAdmin/productArticle/addArticle",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/lejuAdmin/productArticle/productArticle/"+t,method:"get"})}function u(t,e){return Object(r["a"])({url:"/lejuAdmin/material/findMaterialByPage/".concat(t,"/").concat(e)})}function d(t){return Object(r["a"])({url:"/lejuAdmin/material/delMaterial/"+t,method:"delete"})}},"616f":function(t,e,a){},b65f:function(t,e,a){var r=a("23e7"),n=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:n)(t)}})},fb36:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article"},[a("el-card",{staticClass:"box-card margin_bottom_30"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("条件查询")])]),a("el-form",{staticClass:"demo-form-inline query",attrs:{inline:!0,model:t.formData}},[a("el-form-item",{attrs:{label:"作者",size:"mini"}},[a("el-input",{attrs:{placeholder:"作者"},model:{value:t.formData.author,callback:function(e){t.$set(t.formData,"author",e)},expression:"formData.author"}})],1),a("el-form-item",{attrs:{label:"标题",size:"mini"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"编辑类型",size:"mini"}},[a("el-select",{attrs:{placeholder:"编辑类型"},model:{value:t.formData.editorType,callback:function(e){t.$set(t.formData,"editorType",e)},expression:"formData.editorType"}},[a("el-option",{attrs:{label:"富文本",value:0}}),a("el-option",{attrs:{label:"markdown",value:1}})],1)],1),a("el-form-item",{attrs:{size:"mini"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchList}},[t._v("搜索")]),a("el-button",{on:{click:t.resetList}},[t._v("重置")])],1)],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"}},[a("router-link",{attrs:{to:"/content/articleList/editArticle"}},[t._v("新增")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articleList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"#",fixed:"",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"title",label:"文章标题",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"coverImg",label:"展示图片",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"table_img",attrs:{src:t.row.coverImg}})]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"author",label:"文章作者",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{label:"文章是否展示",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},on:{change:function(a){return t.changeShow(e.row.isShow,e.row.id)}},model:{value:e.row.isShow,callback:function(a){t.$set(e.row,"isShow",a)},expression:"scope.row.isShow"}})]}}])}),a("el-table-column",{attrs:{label:"内容部分",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.editorType?"markdown":"富文本"))])]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit-outline"}},[a("router-link",{attrs:{to:{path:"/content/articleList/editArticle",query:{id:e.row.id}}}},[t._v("编辑文章")])],1),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.removeArticle(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.start,"page-sizes":[5,10,15,20],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.articleTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],i=a("c7eb"),c=a("1da1"),o=(a("d3b7"),a("159b"),a("b65f"),a("4e54")),l={name:"ArticleList",data:function(){return{start:1,limit:10,formData:{author:"",collectCount:"",content1:"",content2:"",coverImg:"",createTime:"",editorType:"",id:"",isShow:"",modifyTime:"",summary:"",title:"",viewCount:"",zanCount:""},articleList:[],articleTotal:0}},created:function(){},mounted:function(){this.getArticleList()},methods:{getArticleList:function(){var t=this;Object(o["e"])(this.start,this.limit,this.formData).then((function(e){console.log(e),e.data.rows.forEach((function(t){t.isShow=!!t.isShow})),t.articleList=e.data.rows,console.log(t.articleList),t.articleTotal=e.data.total}))},searchList:function(){this.formData.editorType=Math.trunc(this.formData.editorType),this.getArticleList()},handleSizeChange:function(t){this.limit=t,this.getArticleList()},handleCurrentChange:function(t){this.start=t,this.getArticleList()},resetList:function(){this.start=1,this.limit=10,this.formData={author:"",collectCount:"",content1:"",content2:"",coverImg:"",createTime:"",editorType:"",id:"",isShow:"",modifyTime:"",summary:"",title:"",viewCount:"",zanCount:""},this.getArticleList()},removeArticle:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["c"])(t);case 2:r=a.sent,r.success&&e.$message({type:"success",message:"删除成功!"}),e.getArticleList();case 5:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},changeShow:function(t,e){var a=this;return Object(c["a"])(Object(i["a"])().mark((function r(){var n;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=Math.trunc(t),r.next=3,Object(o["b"])({isShow:t,id:e});case 3:n=r.sent,n.success&&(console.log(t),a.$message.success(t?"切换显示成功":"切换隐藏成功"));case 5:case"end":return r.stop()}}),r)})))()}}},s=l,u=(a("4ce4"),a("2877")),d=Object(u["a"])(s,r,n,!1,null,"68c5e84e",null);e["default"]=d.exports}}]);