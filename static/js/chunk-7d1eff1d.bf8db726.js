(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d1eff1d"],{"108d":function(t,e,a){"use strict";a("b000")},"4c01":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return l}));a("99af");var i=a("b775");function r(){return Object(i["a"])({url:"/lejuAdmin/brand/findAllBrand",method:"get"})}function s(t,e){return Object(i["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(t,"/").concat(e)})}function o(t){return Object(i["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/lejuAdmin/brand/delBrand/"+t,method:"delete"})}},"4e54":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return n})),a.d(e,"a",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"d",(function(){return d}));a("99af");var i=a("b775");function r(t,e,a){return Object(i["a"])({url:"/lejuAdmin/productArticle/findArticles/".concat(t,"/").concat(e),method:"post",data:a})}function s(t){return Object(i["a"])({url:"/lejuAdmin/productArticle/del/"+t,method:"delete"})}function o(t){return Object(i["a"])({url:"/lejuAdmin/productArticle/changeShowStatus",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/lejuAdmin/material/uploadFileOss",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/lejuAdmin/productArticle/addArticle",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/lejuAdmin/productArticle/productArticle/"+t,method:"get"})}function u(t,e){return Object(i["a"])({url:"/lejuAdmin/material/findMaterialByPage/".concat(t,"/").concat(e)})}function d(t){return Object(i["a"])({url:"/lejuAdmin/material/delMaterial/"+t,method:"delete"})}},"789d":function(t,e,a){"use strict";a("c782")},"7adc":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"m",(function(){return s})),a.d(e,"g",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"h",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"k",(function(){return d})),a.d(e,"l",(function(){return p})),a.d(e,"f",(function(){return m})),a.d(e,"n",(function(){return f})),a.d(e,"c",(function(){return h})),a.d(e,"b",(function(){return b})),a.d(e,"e",(function(){return k})),a.d(e,"o",(function(){return g}));a("99af");var i=a("b775");function r(){return Object(i["a"])({url:"/lejuAdmin/category/getAllCategory",method:"get"})}function s(t){return Object(i["a"])({url:"/lejuAdmin/category/updateCategory",method:"post",data:t})}function o(t,e,a){return Object(i["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:a})}function n(t){return Object(i["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/lejuAdmin/product/switchPreviewStatus",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/lejuAdmin/product/productSkusDetail/"+t})}function f(t){return Object(i["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/lejuAdmin/sku/delSku/"+t,method:"delete"})}function b(t){return Object(i["a"])({url:"/lejuAdmin/sku/addProductSkus",method:"post",data:t})}function k(t){return Object(i["a"])({url:"/lejuAdmin/sku/getSkusByProductId/"+t})}function g(t){return Object(i["a"])({url:"/lejuAdmin/sku/updateSkuInfo",method:"post",data:t})}},"7d5f":function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").find,s=a("44d2"),o=a("ae40"),n="find",l=!0,c=o(n);n in[]&&Array(1)[n]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(n)},8256:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:t.fullscreen}},[a("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),a("div",{staticClass:"editor-custom-btn-container"},[a("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},r=[],s=(a("b680"),a("a9e3"),a("d3b7"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-container"},[a("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(" 上传图片 ")]),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(" 点击上传 ")])],1),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(" 取 消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(" 确 定 ")])],1)],1)}),o=[],n=(a("b64b"),a("d81d"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var a=e.uid,i=Object.keys(this.listObj),r=0,s=i.length;r<s;r++)if(this.listObj[i[r]].uid===a)return this.listObj[i[r]].url=t.files.file,void(this.listObj[i[r]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,a=Object.keys(this.listObj),i=0,r=a.length;i<r;i++)if(this.listObj[a[i]].uid===e)return void delete this.listObj[a[i]]},beforeUpload:function(t){var e=this,a=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new Promise((function(r,s){var o=new Image;o.src=a.createObjectURL(t),o.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},r(!0)}))}}}),l=n,c=(a("789d"),a("2877")),u=Object(c["a"])(l,s,o,!1,null,"17c528c6",null),d=u.exports,p=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=p,f=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],h=f,b=a("4e54"),k={name:"Tinymce",components:{editorImage:d},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:"zh_CN",selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:h,menubar:this.menubar,plugins:m,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(a){e.value&&a.setContent(e.value),e.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",a.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))},images_upload_handler:function(t,e,a,i){i(0);var r=new FormData;r.append("file",t.blob()),Object(b["h"])(r).then((function(t){e(t.data.fileUrl),i(100)}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},g=k,v=(a("c7b5"),Object(c["a"])(g,i,r,!1,null,"3b586a0d",null));e["a"]=v.exports},a15b:function(t,e,a){"use strict";var i=a("23e7"),r=a("44ad"),s=a("fc6a"),o=a("a640"),n=[].join,l=r!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return n.call(s(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("23cb"),s=a("a691"),o=a("50c4"),n=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),p=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,k="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var a,i,u,d,p,m,g=n(this),v=o(g.length),y=r(t,v),S=arguments.length;if(0===S?a=i=0:1===S?(a=0,i=v-y):(a=S-2,i=h(f(s(e),0),v-y)),v+a-i>b)throw TypeError(k);for(u=l(g,i),d=0;d<i;d++)p=y+d,p in g&&c(u,d,g[p]);if(u.length=i,a<i){for(d=y;d<v-i;d++)p=d+i,m=d+a,p in g?g[m]=g[p]:delete g[m];for(d=v;d>v-i+a;d--)delete g[d-1]}else if(a>i)for(d=v-i;d>y;d--)p=d+i-1,m=d+a-1,p in g?g[m]=g[p]:delete g[m];for(d=0;d<a;d++)g[d+y]=arguments[d+2];return g.length=v-i+a,u}})},b000:function(t,e,a){},bce3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add"},[a("el-steps",{staticStyle:{"background-color":"#FFF",padding:"30px","margin-bottom":"20px"},attrs:{active:t.activeSteps,"align-center":"",space:"50%","finish-status":"success"}},[a("el-step",{attrs:{title:"商品基本信息"}}),a("el-step",{attrs:{title:"添加库存信息"}}),a("el-step",{attrs:{title:"添加移动端详情"}})],1),a("el-form",{ref:"form",attrs:{model:t.addData,"label-width":"100px",rules:t.rules}},[1===t.activeSteps?a("div",{staticClass:"basic",staticStyle:{padding:"30px"}},[a("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("基本信息")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品名称",prop:"product.name"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.addData.product.name,callback:function(e){t.$set(t.addData.product,"name",e)},expression:"addData.product.name"}})],1)],1),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品编码",prop:"product.productSn"}},[a("el-input",{attrs:{size:"mini"},model:{value:t.addData.product.productSn,callback:function(e){t.$set(t.addData.product,"productSn",e)},expression:"addData.product.productSn"}})],1)],1),a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品分类",prop:"product.productCategoryName"}},[a("el-select",{attrs:{placeholder:"商品分类",size:"mini"},on:{change:t.getCategroyId},model:{value:t.addData.product.productCategoryName,callback:function(e){t.$set(t.addData.product,"productCategoryName",e)},expression:"addData.product.productCategoryName"}},t._l(t.categroyList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"品牌分类",prop:"product.brandName"}},[a("el-select",{attrs:{placeholder:"品牌分类",size:"mini"},on:{change:t.getBrandId},model:{value:t.addData.product.brandName,callback:function(e){t.$set(t.addData.product,"brandName",e)},expression:"addData.product.brandName"}},t._l(t.brandList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addData.product.description,callback:function(e){t.$set(t.addData.product,"description",e)},expression:"addData.product.description"}})],1)],1)],1)],1),a("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品属性")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品原价",prop:"product.originalPrice"}},[a("el-input-number",{attrs:{min:0,max:10,label:"商品原价",size:"mini"},model:{value:t.addData.product.originalPrice,callback:function(e){t.$set(t.addData.product,"originalPrice",e)},expression:"addData.product.originalPrice"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"促销类型"}},[a("el-select",{attrs:{placeholder:"没有促销使用原价",size:"mini",disabled:""},model:{value:t.addData.product.promotionPrice,callback:function(e){t.$set(t.addData.product,"promotionPrice",e)},expression:"addData.product.promotionPrice"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"活动价格"}},[a("el-input-number",{attrs:{min:1,max:10,label:"活动价格",size:"mini",disabled:""},model:{value:t.addData.product.promotionPrice,callback:function(e){t.$set(t.addData.product,"promotionPrice",e)},expression:"addData.product.promotionPrice"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"重量(kg)"}},[a("el-input-number",{attrs:{min:1,max:10,label:"重量(kg)",size:"mini"},model:{value:t.addData.product.weight,callback:function(e){t.$set(t.addData.product,"weight",e)},expression:"addData.product.weight"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"审核状态:"}},[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.addData.product.verifyStatus,callback:function(e){t.$set(t.addData.product,"verifyStatus",e)},expression:"addData.product.verifyStatus"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"是否上架:"}},[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.addData.product.publishStatus,callback:function(e){t.$set(t.addData.product,"publishStatus",e)},expression:"addData.product.publishStatus"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"缩略图",prop:"product.pic"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"on-success":t.imgSuccess,limit:1,"show-file-list":!1}},[t.addData.product.pic?a("img",{staticClass:"img",attrs:{src:t.addData.product.pic}}):a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{width:"180px",height:"180px","text-align":"center","line-height":"180px","font-size":"30px"}})])],1)],1)],1)],1),a("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("其他信息")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"推荐状态:"}},[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.addData.product.recommendStatus,callback:function(e){t.$set(t.addData.product,"recommendStatus",e)},expression:"addData.product.recommendStatus"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"新品状态:"}},[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.addData.product.newStatus,callback:function(e){t.$set(t.addData.product,"newStatus",e)},expression:"addData.product.newStatus"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"预告商品"}},[a("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.addData.product.previewStatus,callback:function(e){t.$set(t.addData.product,"previewStatus",e)},expression:"addData.product.previewStatus"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"搜索关键词"}},[a("el-input",{attrs:{size:"mini",placeholder:"关键词"},model:{value:t.addData.product.keywords,callback:function(e){t.$set(t.addData.product,"keywords",e)},expression:"addData.product.keywords"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"库存预警"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"库存预警",size:"mini",disabled:""},model:{value:t.addData.product.lowStock,callback:function(e){t.$set(t.addData.product,"lowStock",e)},expression:"addData.product.lowStock"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"item",attrs:{label:"商品排序"}},[a("el-input-number",{attrs:{min:0,max:1e3,label:"商品排序",size:"mini"},model:{value:t.addData.product.sort,callback:function(e){t.$set(t.addData.product,"sort",e)},expression:"addData.product.sort"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"产品服务"}},[a("el-checkbox-group",{model:{value:t.addData.product.serviceIds,callback:function(e){t.$set(t.addData.product,"serviceIds",e)},expression:"addData.product.serviceIds"}},[a("el-checkbox",{attrs:{label:"无忧退货"}}),a("el-checkbox",{attrs:{label:"快速退款"}}),a("el-checkbox",{attrs:{label:"包邮到家"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:10}},[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){return t.goNext("form")}}},[t._v("下一步,填写库存信息")])],1)],1)],1)],1):t._e(),2===t.activeSteps?a("div",{staticClass:"sku",staticStyle:{padding:"30px"}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品sku信息")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"标题",prop:"product.detailTitle"}},[a("el-input",{attrs:{size:"mini",placeholder:"标题"},model:{value:t.addData.product.detailTitle,callback:function(e){t.$set(t.addData.product,"detailTitle",e)},expression:"addData.product.detailTitle"}})],1)],1),a("el-col",{attrs:{span:10,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"副标题",prop:"product.subTitle"}},[a("el-input",{attrs:{size:"mini",placeholder:"副标题"},model:{value:t.addData.product.subTitle,callback:function(e){t.$set(t.addData.product,"subTitle",e)},expression:"addData.product.subTitle"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,offset:0}},[a("el-form-item",{staticClass:"item",attrs:{label:"画册图片"}},[a("el-upload",{attrs:{"list-type":"picture-card",action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"on-success":t.imgSuccessFive,limit:5,"show-file-list":!0,"file-list":t.imgList},scopedSlots:t._u([{key:"file",fn:function(t){var e=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}})])}}],null,!1,3260593823)},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb,文件不超过5个")])])],1)],1)],1),a("el-form-item",{staticClass:"item",attrs:{label:"sku设置"}},[t.sku.colorArr.length?a("div",{staticClass:"_color_list"},[t._v(" 颜色: "),a("el-checkbox-group",{model:{value:t.sku.checkColorArr,callback:function(e){t.$set(t.sku,"checkColorArr",e)},expression:"sku.checkColorArr"}},t._l(t.sku.colorArr,(function(e,i){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" "),a("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(e){return t.delColor(i)}}},[t._v("删除")])],1)})),1)],1):t._e(),t.sku.sizeArr.length?a("div",{staticClass:"_color_list"},[t._v(" 尺寸: "),a("el-checkbox-group",{model:{value:t.sku.checkSizeArr,callback:function(e){t.$set(t.sku,"checkSizeArr",e)},expression:"sku.checkSizeArr"}},t._l(t.sku.sizeArr,(function(e,i){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" "),a("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(e){return t.delSize(i)}}},[t._v("删除")])],1)})),1)],1):t._e(),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"flex",attrs:{span:6,offset:0}},[a("el-input",{staticClass:"margin-right",attrs:{placeholder:"颜色描述:土豪金",size:"mini"},model:{value:t.sku.color,callback:function(e){t.$set(t.sku,"color",e)},expression:"sku.color"}}),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.addColor}},[t._v("创建颜色选项")])],1),a("el-col",{staticClass:"flex",attrs:{span:6,offset:0}},[a("el-input",{staticClass:"margin-right",attrs:{placeholder:"大小",size:"mini"},model:{value:t.sku.size,callback:function(e){t.$set(t.sku,"size",e)},expression:"sku.size"}}),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.addSize}},[t._v("创建大小选项")])],1),a("el-col",{attrs:{span:10,offset:0}},[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.createSkuList}},[t._v("生成sku列表")]),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addSkuItem}},[t._v("新增sku")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.addData.pmsSkuStockList,stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",label:"#",fixed:"",align:"center"}}),a("el-table-column",{attrs:{label:"图片",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{width:"100%",height:"100px"},attrs:{headers:t.token,action:"/lejuAdmin/material/uploadFileOss","show-file-list":!1,"on-success":function(a){return t.skuImg(a,e.row)}}},[a("img",{staticClass:"avatar",attrs:{src:""}}),a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"line-height":"100px","font-size":"30px"}})])]}}],null,!1,3292835159)}),a("el-table-column",{attrs:{label:"颜色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},model:{value:e.row.spData[0].value,callback:function(a){t.$set(e.row.spData[0],"value",a)},expression:"scope.row.spData[0].value"}})]}}],null,!1,3498704677)}),a("el-table-column",{attrs:{label:"大小",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},model:{value:e.row.spData[1].value,callback:function(a){t.$set(e.row.spData[1],"value",a)},expression:"scope.row.spData[1].value"}})]}}],null,!1,3964486116)}),a("el-table-column",{attrs:{label:"库存",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"自定义库存"},model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}],null,!1,3702482658)}),a("el-table-column",{attrs:{label:"预警库存",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"预警库存",disabled:""},model:{value:e.row.lowStock,callback:function(a){t.$set(e.row,"lowStock",a)},expression:"scope.row.lowStock"}})]}}],null,!1,3538244939)}),a("el-table-column",{attrs:{label:"锁定库存",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"锁定库存",disabled:""},model:{value:e.row.lockStock,callback:function(a){t.$set(e.row,"lockStock",a)},expression:"scope.row.lockStock"}})]}}],null,!1,1435782445)}),a("el-table-column",{attrs:{label:"sku编码",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"sku编码"},model:{value:e.row.skuCode,callback:function(a){t.$set(e.row,"skuCode",a)},expression:"scope.row.skuCode"}})]}}],null,!1,2597568362)}),a("el-table-column",{attrs:{label:"价格",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"价格"},model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}],null,!1,492827702)}),a("el-table-column",{attrs:{label:"销量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"销量",disabled:""},model:{value:e.row.sale,callback:function(a){t.$set(e.row,"sale",a)},expression:"scope.row.sale"}})]}}],null,!1,3328010946)}),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"danger",underline:!1},on:{click:function(a){return t.delSkuList(e.$index)}}},[t._v("删除")])]}}],null,!1,3310316943)})],1)],1),a("div",{staticStyle:{"margin-top":"50px",display:"flex","justify-content":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.lastOne}},[t._v("返回上一步")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.goNext("form")}}},[t._v("下一步填写移动端详情")])],1)],1)],1):t._e(),3===t.activeSteps?a("div",{staticClass:"phone",staticStyle:{padding:"30px"}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("详情描述")])]),a("el-form-item",{staticClass:"item",attrs:{label:"商品详情"}},[a("tiny",{model:{value:t.addData.product.detailMobileHtml,callback:function(e){t.$set(t.addData.product,"detailMobileHtml",e)},expression:"addData.product.detailMobileHtml"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:2,autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.addData.product.note,callback:function(e){t.$set(t.addData.product,"note",e)},expression:"addData.product.note"}})],1),a("div",{staticStyle:{"margin-top":"50px",display:"flex","justify-content":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.lastOne}},[t._v("返回上一步")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.saveInfo}},[t._v("提交保存")])],1)],1)],1):t._e()])],1)},r=[],s=(a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("7db0"),a("b0c0"),a("a15b"),a("a434"),a("e9c4"),a("4c01")),o=a("7adc"),n=a("2f4d"),l=a("8256"),c={name:"Add",components:{tiny:l["a"]},data:function(){var t=function(t,e,a){if(!e)return a(new Error("商品原价不能为空"));e<0?a(new Error("商品原价必须大于0")):a()};return{activeSteps:1,addData:{pmsSkuStockList:[],product:{albumPics:"",brandId:"",brandName:"",createTime:"",deleteStatus:"",description:"",detailDesc:"",detailHtml:"",detailMobileHtml:"",detailTitle:"",feightTemplateId:"",giftGrowth:"",giftPoint:"",id:"",keywords:"",lowStock:"",modifyTime:"",name:"",newStatus:"",note:"",originalPrice:"",pic:"",previewStatus:"",price:"",productAttributeCategoryId:"",productCategoryId:"",productCategoryName:"",productSn:"",promotionEndTime:"",promotionPerLimit:"",promotionPrice:"",promotionStartTime:"",promotionType:"",publishStatus:"",recommendStatus:"",sale:"",serviceIds:[],sort:"",stock:"",subTitle:"",unit:"",usePointLimit:"",verifyStatus:"",weight:""}},brandList:[],categroyList:[],rules:{"product.name":[{required:!0,message:"请输入商品名称",trigger:"blur"}],"product.productSn":[{required:!0,message:"请输入商品编码",trigger:"blur"}],"product.productCategoryName":[{required:!0,message:"请选择商品分类",trigger:"blur"}],"product.brandName":[{required:!0,message:"请选择品牌分类",trigger:"blur"}],"product.pic":[{required:!0,message:"请选择商品缩略图",trigger:"blur"}],"product.detailTitle":[{required:!0,message:"请输入商品标题",trigger:"blur"}],"product.subTitle":[{required:!0,message:"请输入商品副标题",trigger:"blur"}],"product.originalPrice":[{validator:t,trigger:"blur"}]},token:{token:Object(n["b"])()},imgArr:[],imgList:[],sku:{size:"",sizeArr:[],checkSizeArr:[],color:"",colorArr:[],checkColorArr:[],sku:[]}}},created:function(){},mounted:function(){var t=this;this.$route.query.id&&Object(o["f"])(this.$route.query.id).then((function(e){e.data.product.verifyStatus=!!e.data.product.verifyStatus,e.data.product.publishStatus=!!e.data.product.publishStatus,e.data.product.recommendStatus=!!e.data.product.recommendStatus,e.data.product.newStatus=!!e.data.product.newStatus,e.data.product.previewStatus=!!e.data.product.previewStatus,e.data.skus.forEach((function(t){t.spData=JSON.parse(t.spData)})),t.addData.pmsSkuStockList=e.data.skus,t.addData.product=e.data.product,e.data.product.albumPics.split(",").forEach((function(e){var a={name:Math.random(),url:e};t.imgList.push(a)}))})),this.getBrandList(),this.getCategroyList()},methods:{getCategroyList:function(){var t=this;Object(o["d"])().then((function(e){t.categroyList=e.data.items[1].children}))},getBrandList:function(){var t=this;Object(s["c"])().then((function(e){t.brandList=e.data.items}))},getCategroyId:function(t){this.addData.product.productCategoryId=this.categroyList.find((function(e){return e.name===t})).id},getBrandId:function(t){this.addData.product.brandId=this.brandList.find((function(e){return e.name===t})).id},goNext:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return e.$message.error("请正确填写信息"),!1;e.activeSteps<3&&e.activeSteps++}))},lastOne:function(){this.activeSteps--},imgSuccess:function(t){console.log(t),this.addData.product.pic=t.data.fileUrl},imgSuccessFive:function(t){this.imgArr.push(t.data.fileUrl),this.addData.product.albumPics=this.imgArr.join(",")},addColor:function(){this.sku.colorArr.push(this.sku.color),this.sku.color=""},addSize:function(){this.sku.sizeArr.push(this.sku.size),this.sku.size=""},delColor:function(t){this.sku.colorArr.splice(t,1)},delSize:function(t){this.sku.sizeArr.splice(t,1)},createSkuList:function(){var t=this;this.sku.checkSizeArr.length&&this.sku.checkColorArr.length&&(this.sku.checkSizeArr.forEach((function(e){t.sku.checkColorArr.forEach((function(a){var i={createTime:"",id:"",lockStock:"",lowStock:"",modifyTime:"",pic:"",price:"",productId:"",promotionPrice:"",sale:"",skuCode:"",spData:[{key:"颜色",value:a},{key:"大小",value:e}],stock:""};t.addData.pmsSkuStockList.push(i)}))})),this.sku.checkSizeArr=this.sku.checkColorArr=[])},skuImg:function(t,e){e.pic=t.data.fileUrl},delSkuList:function(t){this.addData.pmsSkuStockList.splice(t,1)},addSkuItem:function(){var t=this;this.sku.checkSizeArr.length&&this.sku.checkColorArr.length&&(this.sku.checkSizeArr.forEach((function(e){t.sku.checkColorArr.forEach((function(a){var i={createTime:"",id:"",lockStock:"",lowStock:"",modifyTime:"",pic:"",price:"",productId:"",promotionPrice:"",sale:"",skuCode:"",spData:[{key:"颜色",value:a},{key:"大小",value:e}],stock:""};t.addData.pmsSkuStockList.push(i)}))})),this.sku.checkSizeArr=this.sku.checkColorArr=[])},saveInfo:function(){var t=this;Array.isArray(this.addData.product.serviceIds)&&(this.addData.product.serviceIds=this.addData.product.serviceIds.join(",")),this.addData.pmsSkuStockList.forEach((function(t){t.spData=JSON.stringify(t.spData)})),this.addData.product.verifyStatus=this.addData.product.verifyStatus?1:0,this.addData.product.publishStatus=this.addData.product.publishStatus?1:0,this.addData.product.recommendStatus=this.addData.product.recommendStatus?1:0,this.addData.product.newStatus=this.addData.product.newStatus?1:0,this.addData.product.previewStatus=this.addData.product.previewStatus?1:0,this.$route.query.id?(console.log(1),Object(o["n"])(this.addData).then((function(e){e.success&&(t.$message.success("修改商品成功"),t.$router.push("/product/list"))}))):Object(o["a"])(this.addData).then((function(e){e.success&&(t.$message.success("添加商品成功"),t.$router.push("/product/list"))}))}}},u=c,d=(a("108d"),a("2877")),p=Object(d["a"])(u,i,r,!1,null,"c260ddc8",null);e["default"]=p.exports},c782:function(t,e,a){},c7b5:function(t,e,a){"use strict";a("7d5f")}}]);