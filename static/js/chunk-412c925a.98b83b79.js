(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-412c925a"],{4624:function(t,a,e){"use strict";a["a"]={data:function(){return{tableData:{start:1,limit:10,total:0,layout:"->,total, sizes, prev, pager, next, jumper",size:[5,10,15,20]}}}}},"4c01":function(t,a,e){"use strict";e.d(a,"c",(function(){return l})),e.d(a,"d",(function(){return r})),e.d(a,"a",(function(){return i})),e.d(a,"e",(function(){return s})),e.d(a,"b",(function(){return o}));e("99af");var n=e("b775");function l(){return Object(n["a"])({url:"/lejuAdmin/brand/findAllBrand",method:"get"})}function r(t,a){return Object(n["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(t,"/").concat(a)})}function i(t){return Object(n["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/lejuAdmin/brand/delBrand/"+t,method:"delete"})}},bba1:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{padding:"30px"}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){t.dialogVisible=!0}}},[t._v("新增")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.brandList,stripe:"",border:""}},[e("el-table-column",{attrs:{type:"index",label:"序号",align:"center",fixed:""}}),e("el-table-column",{attrs:{prop:"name",label:"品牌名称",align:"center"}}),e("el-table-column",{attrs:{label:"展示状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:a.row.showStatus,callback:function(e){t.$set(a.row,"showStatus",e)},expression:"scope.row.showStatus "}})]}}])}),e("el-table-column",{attrs:{label:"logo",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"img",attrs:{src:t.row.logo}})]}}])}),e("el-table-column",{attrs:{label:"专区大图",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"img",attrs:{src:t.row.bigPic}})]}}])}),e("el-table-column",{attrs:{prop:"brandStory",label:"品牌故事",align:"center"}}),e("el-table-column",{attrs:{prop:"createTime ",label:"创建时间",align:"center"}}),e("el-table-column",{attrs:{prop:"sort ",label:"排序",align:"center"}}),e("el-table-column",{attrs:{prop:"productCommentCount",label:"产品评论数量",align:"center"}}),e("el-table-column",{attrs:{prop:"productCount",label:"产品数量",align:"center"}}),e("el-table-column",{attrs:{label:"是否是品牌制造商",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"success",size:"small",effect:"dark"}},[t._v(" "+t._s(a.row.factoryStatus?"是":"否")+" ")])]}}])}),e("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{staticStyle:{"font-size":"12px",padding:"5px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.editBrand(a.row)}}},[t._v("编辑")]),e("el-link",{staticStyle:{"font-size":"12px",padding:"5px"},attrs:{type:"danger",underline:!1},on:{click:function(e){return t.delBrand(a.row.id)}}},[t._v("删除")])]}}])})],1)],1),e("el-dialog",{attrs:{title:"品牌详情",visible:t.dialogVisible,width:"85%"},on:{"update:visible":function(a){t.dialogVisible=a},close:t.handleClose}},[e("el-form",{ref:"form",attrs:{model:t.addBrandData,rules:t.rules,"label-width":"130px",inline:!1,size:"normal"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"品牌名称",prop:"name"}},[e("el-input",{attrs:{size:"mini"},model:{value:t.addBrandData.name,callback:function(a){t.$set(t.addBrandData,"name",a)},expression:"addBrandData.name "}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"首字母"}},[e("el-input",{attrs:{size:"mini"},model:{value:t.addBrandData.firstLetter,callback:function(a){t.$set(t.addBrandData,"firstLetter",a)},expression:"addBrandData.firstLetter "}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"品牌故事"}},[e("el-input",{attrs:{type:"textarea",size:"mini"},model:{value:t.addBrandData.brandStory,callback:function(a){t.$set(t.addBrandData,"brandStory",a)},expression:"addBrandData.brandStory "}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"排序"}},[e("el-input",{attrs:{size:"mini"},model:{value:t.addBrandData.sort,callback:function(a){t.$set(t.addBrandData,"sort",a)},expression:"addBrandData.sort"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"产品数量"}},[e("el-input",{attrs:{size:"mini"},model:{value:t.addBrandData.productCount,callback:function(a){t.$set(t.addBrandData,"productCount",a)},expression:"addBrandData.productCount"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"是否展示"}},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addBrandData.showStatus,callback:function(a){t.$set(t.addBrandData,"showStatus",a)},expression:"addBrandData.showStatus"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"是否为品牌制造商"}},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addBrandData.factoryStatus,callback:function(a){t.$set(t.addBrandData,"factoryStatus",a)},expression:"addBrandData.factoryStatus"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"上传专区大图"}},[e("el-upload",{staticStyle:{"text-align":"center"},attrs:{limit:1,action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"show-file-list":!1,"on-success":function(a){return t.handleAvatarSuccess(a,1)}}},[t.imageUrl.area?e("img",{staticClass:"img",attrs:{src:t.imageUrl.area}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"font-size":"30px","line-height":"60px"}})])],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"上传Logo"}},[e("el-upload",{staticStyle:{"text-align":"center"},attrs:{limit:1,action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"show-file-list":!1,"on-success":function(a){return t.handleAvatarSuccess(a,0)}}},[t.imageUrl.logo?e("img",{staticClass:"img",attrs:{src:t.imageUrl.logo}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"font-size":"30px","line-height":"60px"}})])],1)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},l=[],r=e("4c01"),i=e("4624"),s=e("2f4d"),o={name:"Brand",mixins:[i["a"]],data:function(){return{token:{token:Object(s["b"])()},brandList:[],dialogVisible:!1,addBrandData:{bigPic:"",brandStory:"",createTime:"",factoryStatus:"",firstLetter:"",id:"",logo:"",modifyTime:"",name:"",productCommentCount:"",productCount:"",showStatus:"",sort:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}]},imageUrl:{logo:"",area:""}}},created:function(){},mounted:function(){this.getBrandList()},methods:{getBrandList:function(){var t=this;Object(r["d"])(this.tableData.start,this.tableData.limit).then((function(a){t.brandList=a.data.rows,t.tableData.total=a.data.total}))},handleClose:function(){this.imageUrl={logo:"",area:""},this.addBrandData={bigPic:"",brandStory:"",createTime:"",factoryStatus:"",firstLetter:"",id:"",logo:"",modifyTime:"",name:"",productCommentCount:"",productCount:"",showStatus:"",sort:""}},onSubmit:function(){var t=this;this.addBrandData.id?Object(r["e"])(this.addBrandData).then((function(a){a.success&&(t.$message.success("修改品牌成功"),t.dialogVisible=!1,t.getBrandList())})):Object(r["a"])(this.addBrandData).then((function(a){a.success&&(t.$message.success("添加品牌成功"),t.dialogVisible=!1,t.getBrandList())}))},handleAvatarSuccess:function(t,a){console.log(t,a),a?this.addBrandData.bigPic=this.imageUrl.area=t.data.fileUrl:this.addBrandData.logo=this.imageUrl.logo=t.data.fileUrl},editBrand:function(t){this.dialogVisible=!0,this.addBrandData=t},delBrand:function(t){var a=this;this.$confirm("确认删除品牌？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btn-custom-cancel",type:"warning"}).then((function(){var a=this;Object(r["b"])(t).then((function(t){t.success&&(a.$message.success("删除成功"),a.getBrandList())}))})).catch((function(){a.$message("取消删除")}))}}},d=o,c=e("2877"),u=Object(c["a"])(d,n,l,!1,null,"89e44bc6",null);a["default"]=u.exports}}]);